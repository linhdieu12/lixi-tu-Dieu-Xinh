<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>L√¨ X√¨ ƒë·∫øn t·ª´ Di·ªáu Xinh</title>

    <style>
        body {
            font-family: Arial, sans-serif;
            text-align: center;
            background-color: #ffe4b5;
            padding: 20px;
            background-image: url('https://www.transparenttextures.com/patterns/asfalt-dark.png');
            background-size: cover;
        }
        h1 {
            color: #ff2600;
            font-size: 2.5rem;
            margin-top: 20px;
            text-shadow: 2px 2px 5px rgba(0, 0, 0, 0.3);
        }
        .box {
            background: #fff5e6;
            border-radius: 10px;
            padding: 30px;
            margin: 20px auto;
            max-width: 450px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border: 2px solid #ff4500;
        }
        input {
            padding: 12px;
            width: 80%;
            margin: 10px 0;
            border: 1px solid #ff6347;
            border-radius: 5px;
            background-color: #fff8dc;
        }
        button {
            background-color: #cd3a2f;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
            transition: background-color 0.3s;
            box-shadow: 0 5px 15px rgba(255, 165, 0, 0.3);
        }
        button:hover {
            background-color: #e67300;
        }
        .message {
            margin-top: 20px;
            font-size: 20px;
            color: #d2691e;
            background-color: #fff4e6;
            padding: 15px;
            border-radius: 10px;
            border: 1px solid #d2691e;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .highlight {
            font-size: 1.3rem;
            color: #ff4500;
            font-weight: bold;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.2);
            transition: all 0.3s ease;
        }
        
        .highlight:hover {
            color: #ff6347;
            transform: scale(1.1);
        }
        table {
            margin: 20px auto;
            border-collapse: collapse;
            width: 80%;
            max-width: 800px;
            background-color: #fff5e6;
            border: 1px solid #ff6347;
        }
        th, td {
            border: 1px solid #ff6347;
            padding: 12px;
            text-align: center;
        }
        th {
            background-color: #ffcc00;
            color: white;
        }
        tr:nth-child(even) {
            background-color: #fffaf0;
        }
        #adminPanel {
            margin-top: 20px;
        }
        #dataTableWrapper {
            display: none;
        }
        .lixi-icon {
            font-size: 2rem;
            color: #ff4500;
            margin: 10px;
        }
        .lixi-icon:hover {
            color: #ff6347;
        }
    </style>

    <!-- Firebase 8 CDN -->
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

    <script>
        // C·∫•u h√¨nh Firebase c·ªßa b·∫°n
        const firebaseConfig = {
            apiKey: "AIzaSyAlQFX1NJA8JbgljUxu9IFcc0fCNBNr2LY",
            authDomain: "lixi-tet-2025.firebaseapp.com",
            databaseURL: "https://lixi-tet-2025-default-rtdb.asia-southeast1.firebasedatabase.app",
            projectId: "lixi-tet-2025",
            storageBucket: "lixi-tet-2025.firebasestorage.app",
            messagingSenderId: "299110303415",
            appId: "1:299110303415:web:b4078bf1129e51bb986f32",
            measurementId: "G-7K39SHS58E"
        };

        // Kh·ªüi t·∫°o Firebase
        const app = firebase.initializeApp(firebaseConfig);
        const db = firebase.database();  // Kh·ªüi t·∫°o Realtime Database t·ª´ Firebase

        let count = 0; // ƒê·∫øm s·ªë ng∆∞·ªùi ƒë√£ nh·∫≠p
        const adminPassword = "123456"; // M·∫≠t kh·∫©u ƒë·ªÉ xem b·∫£ng

        function addToTable() {
            const name = document.getElementById("nameInput").value.trim();
            const account = document.getElementById("accountInput").value.trim();
            const bank = document.getElementById("bankInput").value.trim();
            const wish = document.getElementById("wishInput").value.trim();

            if (name === "" || account === "" || bank === "") {
                alert("H√£y nh·∫≠p ƒë·∫ßy ƒë·ªß t√™n, s·ªë t√†i kho·∫£n v√† t√™n ng√¢n h√†ng ƒëi !");
                return;
            }

            // T·∫°o s·ªë ti·ªÅn ng·∫´u nhi√™n t·ª´ 10,000 ƒë·∫øn 100,000 VND
            let a = 100000, b = 500000;
            const randomAmount = Math.floor(Math.random() * (a - b + 1)) + b;

            // TƒÉng s·ªë th·ª© t·ª±
            count++;

            // Th√™m d√≤ng v√†o b·∫£ng
            const table = document.getElementById("dataTable");
            const row = table.insertRow();
            row.innerHTML = `
                <td>${count}</td>
                <td>${name}</td>
                <td>${account}</td>
                <td>${bank}</td>
                <td>${randomAmount.toLocaleString()}</td>
                <td>${wish}</td>
            `;

            const wishes = [
                "üéÜüéáüéähelloooo niu dia n√†nggg‚ù§Ô∏è. Ch√∫c b√© c√≥ s·ª©c kho·∫ª, c√≥ ti·ªÅn, ƒë·∫°t ƒë∆∞·ª£c h·∫øt nh·ªØng g√¨ b√© mu·ªën v√† h·∫°nh ph√∫c b√™n nh·ªØng ng∆∞·ªùi b√© iu th∆∞∆°ngg. V√†, ch√∫c ch√∫ng mik c√≥ th·ªÉ l√† g√¨ c·ªßa nhauuu‚Ä¶ nh√© ·∫°üòù!!! ‚ù§Ô∏è‚Äçüî•"
            ];

            const randomWish = wishes[Math.floor(Math.random() * wishes.length)];
            const message = randomWish.replace("{name}", name) + `
                <br>C·ªßa √≠t: <b>${randomAmount.toLocaleString()} VND </b> r·∫•t l√≤ng v√≤ng r·ªìi nh∆∞ng bao gi·ªù Linh ti·ªán th√¨ Linh chuy·ªÉn nh√© hjhj  <br>
                <span class="highlight">Di·ªáu Linh lu√¥n b√™n b·∫°n </span> (ho·∫∑c kh√¥ng :)) <span class="highlight">!!! </span>
            `;

            document.getElementById("result").innerHTML = message;

            // L∆∞u v√†o Firebase Realtime Database
            const lixiRef = firebase.database().ref('lixi/' + Date.now()); 
            lixiRef.set({
                name: name,
                account: account,
                bank: bank,
                amount: randomAmount,
                wish: wish
            }).then(() => {
                console.log("D·ªØ li·ªáu ƒë√£ ƒë∆∞·ª£c l∆∞u v√†o Firebase");
            }).catch((error) => {
                console.error("L·ªói khi l∆∞u d·ªØ li·ªáu v√†o Firebase", error);
            });

            // X√≥a d·ªØ li·ªáu trong c√°c √¥ nh·∫≠p
            document.getElementById("nameInput").value = "";
            document.getElementById("accountInput").value = "";
            document.getElementById("bankInput").value = "";
            document.getElementById("wishInput").value = "";
        }

        // T·∫£i d·ªØ li·ªáu t·ª´ Firebase Realtime Database
        function loadDataFromFirebase() {
            const dataRef = firebase.database().ref('lixi/');  // D√πng firebase.database().ref()

            dataRef.once('value', function(snapshot) {
                if (snapshot.exists()) {
                    const data = snapshot.val();  // L·∫•y d·ªØ li·ªáu t·ª´ snapshot
                    let index = 1;
                    Object.keys(data).forEach(key => {
                        const item = data[key];
                        const table = document.getElementById("dataTable");
                        const row = table.insertRow();
                        row.innerHTML = `
                            <td>${index++}</td>
                            <td>${item.name}</td>
                            <td>${item.account}</td>
                            <td>${item.bank}</td>
                            <td>${item.amount}</td>
                            <td>${item.wish}</td>
                        `;
                    });
                }
            });
        }

        // Ki·ªÉm tra m·∫≠t kh·∫©u v√† hi·ªÉn th·ªã b·∫£ng d·ªØ li·ªáu
        function checkPassword() {
            const password = document.getElementById("passwordInput").value.trim();

            if (password === adminPassword) {
                document.getElementById("dataTableWrapper").style.display = "block";  // Hi·ªÉn th·ªã b·∫£ng d·ªØ li·ªáu
                loadDataFromFirebase(); // T·∫£i d·ªØ li·ªáu t·ª´ Firebase
            } else {
                alert("M·∫≠t kh·∫©u kh√¥ng ch√≠nh x√°c");
            }
        }
    </script>
</head>
<body>
    <h1>üéâ Ch√†o c·∫≠u, c·∫≠u ƒëi·ªÅn h·∫øt ·ªü d∆∞·ªõi cho t·ªõ lu√¥n v√† ngay üéâ</h1>
    <div class="box">
        <p>ƒêi·ªÅn h·∫øt ƒë·ªÉ nh·∫≠n l√¨ x√¨ t·ª´ Di·ªáu Linh Xinh nh√≥ √≥ √≥ √≥</p>
        <input type="text" id="nameInput" placeholder="B√© xinh t√™n l√† g√¨ n√†.." />
        <input type="text" id="accountInput" placeholder="STK b√© ∆°i" />
        <input type="text" id="bankInput" placeholder="Ng√¢n h√†ng n·ª©aaa" />
        <input type="text" id="wishInput" placeholder="N√≥i v·ªõi em Linh xinh xinh xinh... " />
        <button onclick="addToTable()">Nh·∫≠n l√¨ x√¨</button>
        <div id="result" class="message"></div>
    </div>

    <div class="message" id="result"></div>

    <!-- B·∫£ng d·ªØ li·ªáu (·∫©n m·∫∑c ƒë·ªãnh) -->
    <div id="dataTableWrapper">
        <table id="dataTable">
            <thead>
                <tr>
                    <th>#</th>
                    <th>T√™n</th>
                    <th>S·ªë t√†i kho·∫£n</th>
                    <th>Ng√¢n h√†ng</th>
                    <th>S·ªë ti·ªÅn</th>
                    <th>L·ªùi ch√∫c</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </div>

    <!-- Form nh·∫≠p m·∫≠t kh·∫©u Admin -->
    <div id="adminPanel">
        <input type="password" id="passwordInput" placeholder="Ch·ªâ Di·ªáu Linh xem ƒë∆∞·ª£c thui n·∫°aa"><br>
        <button onclick="checkPassword()">C·∫•m ·∫•n</button>
    </div>

</body>
</html>
